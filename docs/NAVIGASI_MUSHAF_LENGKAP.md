# Navigasi Mushaf Digital - Lengkap

## Overview
Mushaf Digital memiliki sistem navigasi yang cerdas dan adaptif berdasarkan mode dan rentang juz yang dipilih.

---

## Mode Per-Juz

### Juz Tunggal (Juz 1 saja)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø´Ø±ÙŠÙ                    â”‚
â”‚         ğŸ“š Ø§Ù„Ø¬Ø²Ø¡ 1                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚   [Seluruh ayat Juz 1 ditampilkan]     â”‚
â”‚   - Al-Fatihah (7 ayat)                â”‚
â”‚   - Al-Baqarah 1-141 (141 ayat)        â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âŒ Tidak ada navigasi juz              â”‚
â”‚  (Hanya 1 juz)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Multi-Juz (Juz 1-3)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø´Ø±ÙŠÙ                    â”‚
â”‚         ğŸ“š Ø§Ù„Ø¬Ø²Ø¡ 1-3                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚   [Seluruh ayat Juz 1 ditampilkan]     â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… NAVIGASI JUZ                        â”‚
â”‚  [â† Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø³Ø§Ø¨Ù‚] [Ø§Ù„Ø¬Ø²Ø¡ 1] [Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„ØªØ§Ù„ÙŠ â†’] â”‚
â”‚        (disabled)      (active)   (enabled)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Mode Per-Halaman

### Juz Tunggal (Juz 1 saja)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø´Ø±ÙŠÙ                    â”‚
â”‚         ğŸ“„ Per Halaman                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         ØµÙØ­Ø© 1                          â”‚
â”‚                                         â”‚
â”‚   [Ayat untuk halaman 1]               â”‚
â”‚   - Al-Fatihah 1-7                     â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âŒ Tidak ada navigasi juz              â”‚
â”‚  (Hanya 1 juz)                          â”‚
â”‚                                         â”‚
â”‚  âœ… NAVIGASI HALAMAN                    â”‚
â”‚  [â† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©] [Ø§Ù„ØµÙØ­Ø© 1] [Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© â†’] â”‚
â”‚        (disabled)      (1/21)     (enabled)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Multi-Juz (Juz 1-3) - FITUR UTAMA!
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø´Ø±ÙŠÙ                    â”‚
â”‚         ğŸ“„ Per Halaman                   â”‚
â”‚         ğŸ“š Ø§Ù„Ø¬Ø²Ø¡ 1-3                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         ØµÙØ­Ø© 1 (Juz 1)                  â”‚
â”‚                                         â”‚
â”‚   [Ayat untuk halaman 1]               â”‚
â”‚   - Al-Fatihah 1-7                     â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… NAVIGASI JUZ (Muncul!)              â”‚
â”‚  [â† Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø³Ø§Ø¨Ù‚] [Ø§Ù„Ø¬Ø²Ø¡ 1] [Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„ØªØ§Ù„ÙŠ â†’] â”‚
â”‚        (disabled)      (1/3)      (enabled)  â”‚
â”‚                                         â”‚
â”‚  âœ… NAVIGASI HALAMAN                    â”‚
â”‚  [â† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©] [Ø§Ù„ØµÙØ­Ø© 1] [Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© â†’] â”‚
â”‚        (disabled)      (1/63)     (enabled)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Kondisi Navigasi

### Navigasi Juz Muncul Jika:
```typescript
// Kondisi: juzSampai > juzMulai
// Berlaku untuk SEMUA mode (per-juz DAN per-halaman)

if (juzSampai > juzMulai) {
  // Tampilkan navigasi juz
  return (
    <Card>
      <Button onClick={handlePrevJuz}>Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø³Ø§Ø¨Ù‚</Button>
      <Text>Ø§Ù„Ø¬Ø²Ø¡ {activeJuz}</Text>
      <Button onClick={handleNextJuz}>Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„ØªØ§Ù„ÙŠ</Button>
    </Card>
  )
}
```

### Navigasi Halaman Muncul Jika:
```typescript
// Kondisi: tipeUjian === 'per-halaman'
// Selalu muncul untuk mode per-halaman

if (tipeUjian === 'per-halaman') {
  return (
    <Card>
      <Button onClick={handlePrevPage}>Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</Button>
      <Select value={currentPage}>...</Select>
      <Button onClick={handleNextPage}>Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©</Button>
    </Card>
  )
}
```

---

## Skenario Lengkap

### Skenario 1: Per-Juz, Juz 1
```
Mode: per-juz
Juz: 1 (tunggal)

Navigasi:
âŒ Navigasi Juz: Tidak ada
âŒ Navigasi Halaman: Tidak ada

Views: 1 view (seluruh Juz 1)
```

### Skenario 2: Per-Juz, Juz 1-3
```
Mode: per-juz
Juz: 1-3 (multi)

Navigasi:
âœ… Navigasi Juz: Ada (3 juz)
âŒ Navigasi Halaman: Tidak ada

Views: 3 views (Juz 1, 2, 3)
```

### Skenario 3: Per-Halaman, Juz 1
```
Mode: per-halaman
Juz: 1 (tunggal)

Navigasi:
âŒ Navigasi Juz: Tidak ada
âœ… Navigasi Halaman: Ada (21 halaman)

Views: 21 views (halaman 1-21)
```

### Skenario 4: Per-Halaman, Juz 1-3 â­
```
Mode: per-halaman
Juz: 1-3 (multi)

Navigasi:
âœ… Navigasi Juz: Ada (3 juz) â† FITUR INI!
âœ… Navigasi Halaman: Ada (63 halaman)

Views: 63 views (halaman 1-63)

Contoh Flow:
1. User di halaman 1 (Juz 1)
2. Klik "Next Halaman" â†’ Halaman 2 (Juz 1)
3. Klik "Next Halaman" 19x â†’ Halaman 21 (Juz 1)
4. Klik "Next Halaman" â†’ Halaman 22 (Juz 2) â† Auto update activeJuz
5. ATAU klik "Next Juz" â†’ Langsung ke halaman 22 (Juz 2)
```

---

## Auto-Update activeJuz

### Logic
```typescript
// activeJuz ter-update otomatis saat:
// 1. User navigasi halaman (prev/next)
// 2. User pilih halaman dari dropdown
// 3. User klik button juz (prev/next)

useEffect(() => {
  const currentPageData = getCurrentPage();
  if (currentPageData && currentPageData.juz !== activeJuz) {
    setActiveJuz(currentPageData.juz);
  }
}, [currentPage, pages]);
```

### Contoh
```
Halaman 1-21: activeJuz = 1
Halaman 22-41: activeJuz = 2
Halaman 42-61: activeJuz = 3

User di halaman 20 â†’ activeJuz = 1
User klik "Next Halaman" â†’ halaman 21 â†’ activeJuz = 1
User klik "Next Halaman" â†’ halaman 22 â†’ activeJuz = 2 (auto-update!)
```

---

## Button States

### Button "Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø³Ø§Ø¨Ù‚"
```typescript
disabled={activeJuz <= juzMulai}

// Contoh: Juz 1-3
// activeJuz = 1 â†’ disabled (tidak bisa ke juz 0)
// activeJuz = 2 â†’ enabled (bisa ke juz 1)
// activeJuz = 3 â†’ enabled (bisa ke juz 2)
```

### Button "Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„ØªØ§Ù„ÙŠ"
```typescript
disabled={activeJuz >= juzSampai}

// Contoh: Juz 1-3
// activeJuz = 1 â†’ enabled (bisa ke juz 2)
// activeJuz = 2 â†’ enabled (bisa ke juz 3)
// activeJuz = 3 â†’ disabled (tidak bisa ke juz 4)
```

### Button "Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©"
```typescript
disabled={currentPage <= pages[0]?.pageNumber}

// Contoh: Halaman 1-63
// currentPage = 1 â†’ disabled
// currentPage = 2 â†’ enabled
// currentPage = 63 â†’ enabled
```

### Button "Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©"
```typescript
disabled={currentPage >= pages[pages.length - 1]?.pageNumber}

// Contoh: Halaman 1-63
// currentPage = 1 â†’ enabled
// currentPage = 62 â†’ enabled
// currentPage = 63 â†’ disabled
```

---

## Visual Flow

### Per-Halaman, Juz 1-3 (63 halaman)

```
Halaman 1 (Juz 1)
    â†“ [Next Halaman]
Halaman 2 (Juz 1)
    â†“ [Next Halaman]
    ...
Halaman 21 (Juz 1)
    â†“ [Next Halaman] atau [Next Juz]
Halaman 22 (Juz 2) â† activeJuz auto-update ke 2
    â†“ [Next Halaman]
Halaman 23 (Juz 2)
    â†“ [Next Halaman]
    ...
Halaman 41 (Juz 2)
    â†“ [Next Halaman] atau [Next Juz]
Halaman 42 (Juz 3) â† activeJuz auto-update ke 3
    â†“ [Next Halaman]
    ...
Halaman 61 (Juz 3)
```

---

## Benefits

### User Experience
- âœ… Navigasi intuitif
- âœ… Dua cara navigasi (halaman & juz)
- âœ… Auto-update juz saat navigasi halaman
- âœ… Button disabled yang jelas

### Flexibility
- âœ… Support single juz
- âœ… Support multi-juz
- âœ… Support per-juz mode
- âœ… Support per-halaman mode

### Consistency
- âœ… Navigasi konsisten di semua mode
- âœ… Logic yang jelas dan predictable
- âœ… State management yang baik

---

## Testing Checklist

### Per-Juz Mode
- [ ] Single juz: Tidak ada navigasi juz
- [ ] Multi-juz: Ada navigasi juz
- [ ] Button prev/next berfungsi
- [ ] activeJuz ter-update

### Per-Halaman Mode
- [ ] Single juz: Hanya navigasi halaman
- [ ] Multi-juz: Navigasi halaman + juz
- [ ] Button prev/next halaman berfungsi
- [ ] Button prev/next juz berfungsi
- [ ] activeJuz auto-update saat navigasi halaman
- [ ] Dropdown selector berfungsi

### Edge Cases
- [ ] Halaman pertama: Prev disabled
- [ ] Halaman terakhir: Next disabled
- [ ] Juz pertama: Prev juz disabled
- [ ] Juz terakhir: Next juz disabled
- [ ] Navigasi dari juz 1 ke juz 2: Auto ke halaman 22
- [ ] Navigasi dari juz 2 ke juz 3: Auto ke halaman 42

---

**Status**: âœ… Fully Implemented
**Version**: 1.0.0
**Last Updated**: November 2025
